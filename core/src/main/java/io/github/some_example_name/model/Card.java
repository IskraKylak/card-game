package io.github.some_example_name.model;

import java.util.List;

import io.github.some_example_name.core.GameContext;
import io.github.some_example_name.core.effects.CardEffect;

public class Card {
    private final int id; // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ä—Ç—ã
    private final String name; // –ù–∞–∑–≤–∞–Ω–∏–µ
    private final String description; // –û–ø–∏—Å–∞–Ω–∏–µ
    private final CardType type; // –¢–∏–ø –∫–∞—Ä—Ç—ã (—Å—É—â–µ—Å—Ç–≤–æ, –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –∏ —Ç.–ø.)
    private final int manaCost; // –°—Ç–æ–∏–º–æ—Å—Ç—å (–º–∞–Ω–∞/—Ä–µ—Å—É—Ä—Å—ã)
    private final Faction faction;
    private final List<CardEffect> effects; // ‚úÖ —Ç–µ–ø–µ—Ä—å —Å–ø–∏—Å–æ–∫ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
    private final String imagePath; // –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –∫–∞—Ä—Ç—ã
    private final boolean burnOnPlay; // üëà –Ω–æ–≤—ã–π —Ñ–ª–∞–≥

    private final int countTarget;

    public Card(int id, String name, String description, int manaCost, CardType type,
            Faction faction, List<CardEffect> effects, String imagePath,
            boolean burnOnPlay, int countTarget) {
        this.id = id;
        this.name = name;
        this.description = description;
        this.manaCost = manaCost;
        this.type = type;
        this.faction = faction;
        this.effects = effects; // —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫
        this.imagePath = imagePath;
        this.burnOnPlay = burnOnPlay;
        this.countTarget = countTarget;
    }

    public int getCountTarget() {
        return countTarget;
    }

    public boolean isBurnOnPlay() {
        return burnOnPlay;
    }

    public String getImagePath() {
        return imagePath;
    }

    // --- –ì–µ—Ç—Ç–µ—Ä—ã ---
    public Faction getFaction() {
        return faction;
    }

    public int getId() {
        return id;
    }

    public String getName() {
        return name;
    }

    public String getDescription() {
        return description;
    }

    public CardType getType() {
        return type;
    }

    public int getCost() {
        return manaCost;
    }

    // ‚úÖ –ì–µ—Ç—Ç–µ—Ä –¥–ª—è —Å–ø–∏—Å–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
    public List<CardEffect> getEffects() {
        return effects;
    }

    // --- –í—ã–∑–æ–≤ —ç—Ñ—Ñ–µ–∫—Ç–∞ –∫–∞—Ä—Ç—ã ---
    // --- –í—ã–∑–æ–≤ –≤—Å–µ—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∫–∞—Ä—Ç—ã ---
    public void play(GameContext context, Targetable target) {
        if (effects == null || effects.isEmpty())
            return;

        for (CardEffect effect : effects) {
            if (effect != null) {
                effect.apply(context, target);
            }
        }
    }
}
